<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Arch Linux 软件管理与 .deb/.rpm 解决方案</title>
  <style>
    :root {
      --bg: #0f1117;
      --panel: #161b22;
      --text: #e6edf3;
      --muted: #8b949e;
      --accent: #58a6ff;
      --code-bg: #0d1117;
      --border: #30363d;
      --sidebar: #0b0e14;
    }
    * {
      box-sizing: border-box;
      scroll-behavior: smooth;
    }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
        "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
    }
    .menu-btn {
      display: none;
    }

    /* Sidebar */
    .sidebar {
      width: 280px;
      background: var(--sidebar);
      border-right: 1px solid var(--border);
      padding: 20px;
      position: fixed;
      top: 0;
      bottom: 0;
      overflow-y: auto;
      z-index: 998;
    }

    .sidebar h2 {
      margin-top: 0;
      font-size: 18px;
      color: var(--accent);
      text-align: center;
    }

    .sidebar a {
      display: block;
      color: var(--text);
      text-decoration: none;
      padding: 10px 14px;
      margin: 6px 0;
      border-radius: 8px;
      font-size: 15px;
    }

    .sidebar a:hover {
      background: rgba(88, 166, 255, 0.18);
      color: var(--accent);
    }

    .content {
      margin-left: 280px;
      padding: 40px 60px;
      max-width: 1100px;
      width: 100%;
    }

    h1, h2, h3 {
      color: var(--accent);
    }
    h1 { font-size: 32px; }
    h2 { margin-top: 60px; border-bottom: 1px solid var(--border); padding-bottom: 6px; }

    p, li { line-height: 1.75; }

    pre {
      background: var(--code-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px 18px;
      overflow-x: auto;
      font-size: 14px;
      margin: 18px 0;
    }

    code {
      font-family: "JetBrains Mono", "Fira Code", Consolas, monospace;
      color: #c9d1d9;
    }

    .tip {
      background: rgba(88, 166, 255, 0.08);
      border-left: 4px solid var(--accent);
      padding: 14px 16px;
      border-radius: 6px;
      margin: 16px 0;
    }

    .block {
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px 24px;
      margin: 26px 0;
    }

    footer {
      margin-top: 80px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
      text-align: center;
      color: var(--muted);
      font-size: 13px;
    }

    .sidebar-mask {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.45);
      z-index: 999;
    }

    /* Mobile */
    @media (max-width: 900px) {
      body { flex-direction: column; }

      .menu-btn {
        display: block;
        position: fixed;
        top: 12px;
        right: 12px;
        z-index: 1001;
        background: var(--panel);
        color: var(--text);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 8px 14px;
        font-size: 14px;
        cursor: pointer;
      }

      .sidebar {
        position: fixed;
        top: 0;
        left: -280px;
        width: 280px;
        height: 100%;
        transition: left 0.3s ease;
        z-index: 1000;
        display: block;
      }

      .sidebar.active {
        left: 0;
      }

      .sidebar-mask.active {
        display: block;
      }

      .content {
        margin-left: 0;
        padding: 60px 14px 40px 14px;
      }

      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      pre { font-size: 13px; }
    }
  </style>
</head>
<body>
  <button class="menu-btn" id="menuBtn">目录</button>
  <div class="sidebar-mask" id="sidebarMask"></div>
  <aside class="sidebar" id="sidebar">
    <h2>目录</h2>
    <a href="#intro">概述</a>
    <a href="#core">核心思想</a>
    <a href="#sources">软件来源体系</a>
    <a href="#aur">AUR</a>
    <a href="#chaotic">Chaotic-AUR</a>
    <a href="#flatpak">Flatpak</a>
    <a href="#deb-rpm">.deb / .rpm 解决方案</a>
    <a href="#deps">依赖处理逻辑</a>
    <a href="#combo">推荐系统组合</a>
    <a href="#workflow">使用流程总览</a>
    <a href="#summary">总结</a>
  </aside>

  <main class="content">
    <section id="intro">
      <h1>Arch Linux 软件管理与 .deb/.rpm 解决方案</h1>
      <p>适用于 Arch Linux / Manjaro / EndeavourOS 等 Arch 系发行版。</p>
      <div class="tip">
        目标：让 Arch Linux 拥有 <b>比 Ubuntu / CentOS 更多的软件资源</b>，并保持系统 <b>纯净、依赖可控、升级安全</b>。
      </div>
    </section>

    <section id="core">
      <h2>核心思想</h2>
      <p>Arch 官方仓库只提供最核心、最纯净的软件，因此默认看起来“软件少”。</p>
      <p><b>真正的力量来自：</b></p>
      <pre><code>AUR + Chaotic-AUR + Flatpak + 容器</code></pre>
    </section>

    <section id="sources">
      <h2>软件来源体系</h2>
      <div class="block">
        <ul>
          <li><b>AUR / Chaotic-AUR：</b>原生 Arch 包，依赖最优</li>
          <li><b>Flatpak：</b>桌面软件补充</li>
          <li><b>debtap：</b>转换 .deb/.rpm</li>
          <li><b>distrobox：</b>容器运行 Ubuntu/Fedora 软件</li>
        </ul>
      </div>
    </section>

    <section id="aur">
      <h2>AUR</h2>
      <p>AUR 是 Arch 的社区仓库，包含几乎所有商业、闭源、冷门软件。</p>
      <pre><code>sudo pacman -S --needed git base-devel

git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si</code></pre>
      <pre><code>yay -S google-chrome
yay -S wechat-uos
yay -S qq-linux
yay -S visual-studio-code-bin</code></pre>
    </section>

    <section id="chaotic">
      <h2>Chaotic-AUR（二进制 AUR）</h2>
      <p>提供已编译好的 AUR 软件，直接 pacman 安装。</p>
      <pre><code>sudo pacman-key --recv-key 3056513887B78AEB --keyserver keyserver.ubuntu.com
sudo pacman-key --lsign-key 3056513887B78AEB</code></pre>
      <pre><code>sudo pacman -U https://cdn-mirror.chaotic.cx/chaotic-aur/chaotic-keyring.pkg.tar.zst
sudo pacman -U https://cdn-mirror.chaotic.cx/chaotic-aur/chaotic-mirrorlist.pkg.tar.zst</code></pre>
      <pre><code>echo -e "[chaotic-aur]\nInclude = /etc/pacman.d/chaotic-mirrorlist" | sudo tee -a /etc/pacman.conf
sudo pacman -Syu</code></pre>
    </section>

    <section id="flatpak">
      <h2>Flatpak</h2>
      <pre><code>sudo pacman -S flatpak

flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo</code></pre>
      <pre><code>flatpak install flathub org.telegram.desktop
flatpak install flathub com.discordapp.Discord</code></pre>
    </section>

    <section id="deb-rpm">
      <h2>.deb / .rpm 解决方案</h2>
      <h3>方案 1：AUR</h3>
      <pre><code>yay -Ss 软件名</code></pre>
      <h3>方案 2：debtap</h3>
      <pre><code>yay -S debtap
sudo debtap -u</code></pre>
      <pre><code>debtap xxx.deb
debtap xxx.rpm
sudo pacman -U xxx.pkg.tar.zst</code></pre>
      <h3>方案 3：distrobox</h3>
      <pre><code>sudo pacman -S distrobox

distrobox create -i ubuntu:latest -n ubx
distrobox enter ubx
sudo apt install ./xxx.deb</code></pre>
    </section>

    <section id="deps">
      <h2>依赖处理逻辑</h2>
      <pre><code>官方仓库 → pacman
AUR → 打包者处理
Chaotic-AUR → 已编译
Flatpak → 沙箱隔离
debtap → 自动映射 + 手动确认
distrobox → 容器系统自行处理</code></pre>
    </section>

    <section id="combo">
      <h2>推荐系统组合</h2>
      <pre><code>Arch Linux
├─ pacman
├─ AUR + yay
├─ Chaotic-AUR
├─ Flatpak
├─ debtap
└─ distrobox</code></pre>
    </section>

    <section id="workflow">
      <h2>使用流程总览</h2>
      <pre><code>1. pacman 搜索
2. yay 搜索（AUR）
3. Chaotic-AUR
4. debtap
5. distrobox</code></pre>
    </section>

    <section id="summary">
      <h2>总结</h2>
      <div class="tip">
        Arch Linux 并不是软件少，而是 <b>把自由、纯净、可控放在第一位</b>。
        当你正确使用 AUR + Chaotic-AUR + Flatpak + 容器后，
        它将成为 <b>Linux 生态中软件最多、最强大的发行版</b>。
      </div>
    </section>

    <footer>
      © 2026 Arch Software Ecosystem Guide · Designed for reading & documentation
    </footer>
  </main>

  <script>
    const menuBtn = document.getElementById('menuBtn');
    const sidebar = document.getElementById('sidebar');
    const sidebarMask = document.getElementById('sidebarMask');

    function toggleMenu() {
      sidebar.classList.toggle('active');
      sidebarMask.classList.toggle('active');
      menuBtn.textContent = sidebar.classList.contains('active') ? '关闭' : '目录';
    }

    menuBtn.addEventListener('click', toggleMenu);
    sidebarMask.addEventListener('click', toggleMenu);

    // 点击链接自动关闭菜单
    document.querySelectorAll('.sidebar a').forEach(link => {
      link.addEventListener('click', () => {
        sidebar.classList.remove('active');
        sidebarMask.classList.remove('active');
        menuBtn.textContent = '目录';
      });
    });
  </script>
</body>
</html>
     
